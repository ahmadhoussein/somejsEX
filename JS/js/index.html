<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Javascript - 1</title>
<style>
.titre {color: red; font-weight: bold;}

#main {font-size: 120%; background-color: lightblue; width: 500px;}
div {padding: 3px;}
label {display: inline-block; width: 170px;}
input, button {font-size: 110%;}
</style>
<script type="text/javascript" src="Serie6_Ex2.js"></script>
</head>
<body>
<form>
<div id = "main">
<div class = "titre"> Informations personnelles </div>
<div> <label for="prenom">Prénom </label>

<input type="text" name = "prenom" id ="prenom" /></div>

<div> <label for="nom">Nom </label>

<input type="text" name = "nom" id ="nom" /></div>
<div> <label for="naiss">Date naissance </label>
<input type="text" name = "naiss" id ="naiss" /></div>
<div class = "titre"> Informations Compte </div>
<div> <label for="mail">Email </label>

<input type="text" name = "mail" id ="mail" readonly /></div>

<div> <label for="user">User name </label>

<input type="text" name = "user" id ="user" readonly /></div>

<div> <label for="pass">Password </label>

<input type="text" name = "pass" id ="pass" readonly /></div>

<div class = "titre"> Fonctions </div>
<div> <input type="button" name = "gm" value ="Générer Email"
onclick="genererEmail()"/>
<input type="button" name = "gu" value ="Générer Username"

onclick="genererUser()" />

</div>
<div> <button type="button" onclick="genererPass()"> Générer

Password </button><button type="reset"> Initialiser </button>
</div>
</div>
</form>
<script>
    
    function genererEmail(){
        var prenom = document.getElementById("prenom").value
        var nom = document.getElementById("nom").value
        var birth = document.getElementById("naiss").value
       
            var lenght = birth.slice(-2)
            var mail =prenom+nom+lenght[0]+lenght[1]+"@"+"gmail.com"
           document.getElementById("mail").value=mail
        
    }

  function genererUser() {
    var prenom = document.getElementById("prenom").value;
    var nom = document.getElementById("nom").value;

    // Extract the first four letters of the first name in uppercase
    var prenomFirstFour = prenom.slice(0, 4).toUpperCase();

    // Extract the first four letters of the last name in lowercase
    var nomFirstFour = nom.slice(0, 4).toLowerCase();

    // If the first name has less than 4 letters, concatenate it twice
    if (prenom.length < 4) {
      prenomFirstFour = prenomFirstFour + prenomFirstFour;
    }

    // If the last name has less than 4 letters, concatenate it twice
    if (nom.length < 4) {
      nomFirstFour = nomFirstFour + nomFirstFour;
    }

    // Concatenate the first four letters of first name and last name and set it as the username
    var username = prenomFirstFour + nomFirstFour;
    document.getElementById("user").value = username;
  }
  function genererPass() {
  var prenom = document.getElementById("prenom").value;
  var nom = document.getElementById("nom").value;
  var birth = document.getElementById("naiss").value;

  var premier = prenom[0];
  var deuxiem = nom[0];
  var trois = nom[nom.length - 1].charCodeAt().toString();
  var quatr = prenom[prenom.length - 1].charCodeAt().toString();

  var pos = 0; // Initialize pos to -1 before the loop
  for (var i = 0; i < nom.length; i++) {
    if (nom[i] == 'a' || nom[i] == 'e' || nom[i] == 'i' || nom[i] == 'o') {
      pos = i;
      break;
    }
  }

  var us = premier + deuxiem + trois + quatr + pos;
  document.getElementById("pass").value = us;
}
function con(){
    var prenom = document.getElementById("prenom").value;
  var nom = document.getElementById("nom").value;
  var birth = document.getElementById("naiss").value;
  let a =[];
  a[0]=prenom
  a[1]=nom
  a[2]=birth
  
  return a
}


</script>
</body>
</html>